(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){module.exports={2:"Madd9",6:"M6",67:"7add6",69:"M69",Major:"M",minor:"m",minor7:"m7",Dominant:"7",augmented:"M#5",diminished:"o7","half-diminished":"m7b5",quartal:"4","":"M",M6b5:"M6#11","6#11":"M6#11","6b5":"M6#11",add9:"Madd9",add9no3:"Msus2",sus:"Msus4",sus2:"Msus2",add2:"Madd9",sus4add9:"sus24",maj7:"Maj7",M7:"Maj7",maj9:"M9",Maj9:"M9","maj7#11":"M7#11","Maj7#11":"M7#11","maj9#11":"M9#11","Maj9#11":"M9#11",maj13:"M13",Maj13:"M13","maj13#11":"M13#11","Maj13#11":"M13#11",sus4:"Msus4",susb9:"7sus4b9","7susb9":"7sus4b9","7b9sus":"7sus4b9","7b9sus4":"7sus4b9",phryg:"7sus4b9","maj#5":"M#5","Maj#5":"M#5","maj7#5":"M7#5","Maj7#5":"M7#5","maj9#5":"M7#5","Maj9#5":"M9#5","+":"M#5",aug:"M#5","M7+":"M7#5","+add9":"M#5add9",mMaj7:"mM7",mMaj9:"mM9",mMaj7b6:"mM7b6",mMaj9b6:"mM9b6",m7add4:"m7add11",h7:"m7b5",mb5:"o",m6b5:"o7",h9:"m9b5",h11:"m11b5","m+":"m#5",mb6:"m#5","+7":"7#5","7+":"7#5","7aug":"7#5",aug7:"7#5","7b5#9":"7#9#11","9+":"9#5","7add13":"7add6","9b5b13":"9#11b13","7sus":"7sus4","9sus":"9sus4","7b9b13sus4":"7sus4b9b13","13sus":"13sus4","7b9#11b13":"7b9b13#11","7b5b9":"7b9#11","7b5b13":"7#11b13","7b5b9b13":"7b9b13#11","7alt":"7#5#9",dim:"o",dim7:"o7","-":"m7","-7":"m7","-9":"m9","-11":"m11","-13":"m13","-7b5":"m7b5","-9b5":"m9b5","-11b5":"m11b5","-6":"m6","-69":"m69","-M7":"mM7","-M9":"mM9","7+4":"7#11","7#4":"7#11","9+4":"9#11","9#4":"9#11","13+4":"13#11","13#4":"13#11","M7+4":"M7#11","M7#4":"M7#11","M9+4":"M9#11","M9#4":"M9#11","M13+4":"M13#11","M13#4":"M13#11","7_":"7","9_":"9","13_":"13","7#11_":"7#11","9#11_":"9#11","13#11_":"13#11","7#4_":"7#11","9#4_":"9#11","13#4_":"13#11","13#9_":"13#9","7#9_":"7#9","7#5#9_":"7#5#9","7#9b13_":"7#5#9"}},{}],2:[function(require,module,exports){module.exports={11:"1 5 7b 9 11","11b9":"1 5 7b 9b 11",13:"1 3 5 7b 9 13","13#11":"1 3 5 7b 9 11# 13","13#9":"1 3 5 7b 9# 13","13#9#11":"1 3 5 7b 9# 11# 13","13b5":"1 3 5d 6 7b 9","13b9":"1 3 5 7b 9b 13","13b9#11":"1 3 5 7b 9b 11# 13","13no5":"1 3 7b 9 13","13sus4":"1 4 5 7b 9 13",4:"1 4 7b 10m",5:"1 5","69#11":"1 3 5 6 9 11#",7:"1 3 5 7b","7#11":"1 3 5 7b 11#","7#11b13":"1 3 5 7b 11# 13b","7#5":"1 3 5A 7b","7#5#9":"1 3 5A 7b 9#","7#5b9":"1 3 5A 7b 9b","7#5b9#11":"1 3 5A 7b 9b 11#","7#5sus4":"1 4 5A 7b","7#9":"1 3 5 7b 9#","7#9#11":"1 3 5 7b 9# 11#","7#9#11b13":"1 3 5 7b 9# 11# 13b","7#9b13":"1 3 5 7b 9# 13b","7add6":"1 3 5 7b 13","7b13":"1 3 7b 13b","7b5":"1 3 5d 7b","7b6":"1 3 5 6b 7b","7b9":"1 3 5 7b 9b","7b9#11":"1 3 5 7b 9b 11#","7b9#9":"1 3 5 7b 9b 9#","7b9b13":"1 3 5 7b 9b 13b","7b9b13#11":"1 3 5 7b 9b 11# 13b","7no5":"1 3 7b","7sus4":"1 4 5 7b","7sus4b9":"1 4 5 7b 9b","7sus4b9b13":"1 4 5 7b 9b 13b",9:"1 3 5 7b 9","9#11":"1 3 5 7b 9 11#","9#11b13":"1 3 5 7b 9 11# 13b","9#5":"1 3 5A 7b 9","9#5#11":"1 3 5A 7b 9 11#","9b13":"1 3 7b 9 13b","9b5":"1 3 5d 7b 9","9no5":"1 3 7b 9","9sus4":"1 4 5 7b 9",Blues:"1 3b 4 5d 5 7b",M:"1 3 5","M#5":"1 3 5A","M#5add9":"1 3 5A 9",M13:"1 3 5 7 9 13","M13#11":"1 3 5 7 9 11# 13",M6:"1 3 5 13","M6#11":"1 3 5 6 11#",M69:"1 3 5 6 9","M69#11":"1 3 5 6 9 11#","M7#11":"1 3 5 7 11#","M7#5":"1 3 5A 7","M7#5sus4":"1 4 5A 7","M7#9#11":"1 3 5 7 9# 11#",M7add13:"1 3 5 6 7 9",M7b5:"1 3 5d 7",M7b6:"1 3 6b 7",M7b9:"1 3 5 7 9b",M7sus4:"1 4 5 7",M9:"1 3 5 7 9","M9#11":"1 3 5 7 9 11#","M9#5":"1 3 5A 7 9","M9#5sus4":"1 4 5A 7 9",M9b5:"1 3 5d 7 9",M9sus4:"1 4 5 7 9",Madd9:"1 3 5 9",Maj7:"1 3 5 7",Mb5:"1 3 5d",Mb6:"1 3 13b",Msus2:"1 2M 5",Msus4:"1 4 5",addb9:"1 3 5 9b",m:"1 3b 5","m#5":"1 3b 5A",m11:"1 3b 5 7b 9 11","m11#5":"1 3b 6b 7b 9 11",m11b5:"1 3b 7b 12d 2M 4",m13:"1 3b 5 7b 9 11 13",m6:"1 3b 4 5 13",m69:"1 3b 5 6 9",m7:"1 3b 5 7b","m7#5":"1 3b 6b 7b",m7add11:"1 3b 5 7b 11",m7b5:"1 3b 5d 7b",m9:"1 3b 5 7b 9","m9#5":"1 3b 6b 7b 9",m9b5:"1 3b 7b 12d 2M",mM7:"1 3b 5 7",mM7b6:"1 3b 5 6b 7",mM9:"1 3b 5 7 9",mM9b6:"1 3b 5 6b 7 9",madd4:"1 3b 4 5",madd9:"1 3b 5 9",mb6M7:"1 3b 6b 7",mb6b9:"1 3b 6b 9b",o:"1 3b 5d",o7:"1 3b 5d 13",o7M7:"1 3b 5d 6 7",oM7:"1 3b 5d 7",sus24:"1 2M 4 5","+add#9":"1 3 5A 9#"}},{}],3:[function(require,module,exports){"use strict";var data=require("./dict/chords.json");var aliases=require("./dict/aliases.json");var harmonizer=require("music.harmonizer");var pitchSet=require("music.pitchset");function chords(name,tonic){if(arguments.length===1)return function(t){return chords(name,t)};var intervals=data[name]||data[aliases[name]];return harmonizer(intervals,tonic)}chords.names=function(alias){return alias?Object.keys(data).concat(Object.keys(aliases)):Object.keys(data)};var reverse=null;function buildReverse(data){return Object.keys(data).reduce(function(rev,name){rev[pitchSet.asBinary(data[name])]=name;return rev},{})}chords.find=function(notes){reverse=reverse||buildReverse(data);var binary=pitchSet.asBinary(notes);return reverse[binary]};if(typeof module==="object"&&module.exports)module.exports=chords;if(typeof window!=="undefined")window.chords=chords},{"./dict/aliases.json":1,"./dict/chords.json":2,"music.harmonizer":4,"music.pitchset":10}],4:[function(require,module,exports){"use strict";var gamut=require("music.gamut");var operator=require("music.pitch.operator");var notation=require("music.notation");function harmonizer(intervals,tonic){if(arguments.length===1)return function(t){return harmonizer(intervals,t)};return gamut.apply(function(g){var intervals=toIntervals(g);if(tonic===false)return intervals;var t=notation.arr(tonic);return intervals.map(operator.addTo(t))},intervals)}function toIntervals(notes){var t=operator.setDefaultOctave(0,notes[0]);return notes.map(function(n){return n&&n.length!==3?operator.subtract(t,n):n})}module.exports=harmonizer},{"music.gamut":5,"music.notation":6,"music.pitch.operator":9}],5:[function(require,module,exports){"use strict";var notation=require("music.notation");var isArray=Array.isArray;var identity=function(e){return e};function _curry(fn){return function(a,b){return arguments.length===1?function(b){return fn(a,b)}:fn(a,b)}}var SEP=/\s*\|\s*|\s*,\s*|\s+/;function gamut(source,fn){return gamut.apply(fn||identity,source)}gamut.apply=_curry(function(fn,source){var isGamut=isArray(source)&&isArray(source[0]);var g=isGamut?source:gamut.split(source).map(notation.arr);var res=fn(g);return!isGamut&&isArray(res[0])?res.map(notation.str):res});gamut.map=_curry(function(fn,source){return gamut.apply(function(g){return g.map(fn)},source)});gamut.filter=_curry(function(fn,source){return gamut.apply(function(g){return g.filter(fn)},source)});gamut.split=function(source){if(isArray(source))return source;else if(typeof source==="string")return source.trim().split(SEP);else if(source===null||typeof source==="undefined")return[];else return[source]};module.exports=gamut},{"music.notation":6}],6:[function(require,module,exports){"use strict";var pitch=require("./pitch");var interval=require("./interval");var cache={};var notation=function(){return notation};notation.arr=function(src){if(!src||Array.isArray(src))return src;return src in cache?cache[src]:cache[src]=pitch.parse(src)||interval.parse(src)};notation.str=function(arr){if(!Array.isArray(arr))return null;var str="|"+arr[0]+"|"+arr[1]+"|"+arr[2]+"|"+arr[3]+"|"+arr[4];return str in cache?cache[str]:cache[str]=toString(arr)};notation.op=function(fn){return function(pitch){if(!pitch)return null;if(Array.isArray(pitch))return fn(pitch);var a=notation.arr(pitch);if(!a)return null;var v=fn(a);return Array.isArray(v)?notation.str(v):v}};function toString(arr){if(arr.length===2)return pitch.build(arr);else if(arr.length===3)return interval.build(arr);else if(arr.length===0||arr.length===1)return null;else return pitch.build(arr)}module.exports=notation},{"./interval":7,"./pitch":8}],7:[function(require,module,exports){"use strict";var INTERVAL=/^([-+]?)(\d+)(d{1,4}|m|M|P|A{1,4}|b{1,4}|#{1,4}|)$/;var QALT={P:{dddd:-4,ddd:-3,dd:-2,d:-1,P:0,A:1,AA:2,AAA:3,AAAA:4},M:{ddd:-4,dd:-3,d:-2,m:-1,M:0,A:1,AA:2,AAA:3,AAAA:4}};var ALTER={P:["dddd","ddd","dd","d","P","A","AA","AAA","AAAA"],M:["ddd","dd","d","m","M","A","AA","AAA","AAAA"]};var TYPES="PMMPPMM";module.exports={parse:function(str){var m=INTERVAL.exec(str);if(!m)return null;var dir=m[1]==="-"?-1:1;var num=+m[2]-1;var simple=num%7;var oct=dir*Math.floor(num/7);var type=TYPES[simple];var alt;if(m[3]==="")alt=0;else if(m[3][0]==="#")alt=m[3].length;else if(m[3][0]==="b")alt=-m[3].length;else{alt=QALT[type][m[3]];if(typeof alt==="undefined")return null}if(dir===-1){alt=type==="P"?-alt:-(alt+1);if(simple!==0){simple=7-simple;oct--}}return[simple,alt,oct]},build:function(i){var t=TYPES[Math.abs(i[0])%7];var n=number(i);var alt=i[1];if(n<0)alt=t==="P"?-alt:-(alt+1);var q=ALTER[t][4+alt];return n+q}};function number(i){var simple=i[0]%7+1;if(!i[2])return simple;var dir=i[2]<0?-1:1;var oct=Math.abs(i[2]);if(dir<0){simple=9-simple;oct--}return dir*(simple+7*oct)}},{}],8:[function(require,module,exports){"use strict";function fillStr(num,char){return Array(num+1).join(char)}var LETTERS="CDEFGAB";var REGEX=/^([a-gA-G])(#{1,4}|b{1,4}|x{1,2}|)(\d*)$/;module.exports={parse:function(str){var m=REGEX.exec(str);if(!m)return null;var step=LETTERS.indexOf(m[1].toUpperCase());var alt=m[2].replace(/x/g,"##").length;if(m[2][0]==="b")alt*=-1;return m[3]?[step,alt,+m[3],0]:[step,alt]},build:function(arr){var letter=LETTERS.charAt(Math.abs(arr[0])%7);var acc=fillStr(Math.abs(arr[1]),arr[1]<0?"b":"#");var oct=arr[2]||arr[2]===0?arr[2]:"";return letter+acc+oct}}},{}],9:[function(require,module,exports){"use strict";var op={};op.pitchClass=function(p){return p?[p[0],p[1]]:null};op.setOctave=function(num,arr){if(arguments.length===1)return function(arr){return op.setOctave(num,arr)};if(!arr)return null;var copy=arr.slice();copy[2]=num;return copy};op.simplify=op.setOctave(0);op.setDefaultOctave=function(oct,arr){if(arguments.length===1)return function(arr){return op.setDefaultOctave(oct,arr)};if(!arr)return null;var c=arr.slice();c[2]=c[2]===null||c[2]===undefined?oct:c[2];return c};var SEMITONES=[0,2,4,5,7,9,11];op.height=function(i){return i?SEMITONES[i[0]%7]+i[1]+12*(i[2]||0):null};op.compare=function(a,b){return op.height(a)-op.height(b)};var BASE_TO=[[0,0],[2,-1],[4,-2],[-1,1],[1,0],[3,-1],[5,-2]];var BASE_FROM=[[0,0],[4,0],[1,1],[5,1],[2,2],[6,2],[3,-1]];op.toFifths=function(t){var base=BASE_TO[t[0]%7];var fifths=base[0]+7*t[1];var oct=t.length>2?base[1]+t[2]-4*t[1]:null;return[fifths,oct]};op.fromFifths=function(coord){var q=coord[0]%7;var index=q<0?7-Math.abs(q):q;var alter=Math.floor((coord[0]+1)/7);var base=BASE_FROM[index];var oct=coord[1]===null?null:base[1]+alter*4+coord[1];return[base[0],alter,oct]};function add(a,b){var fifths=a[0]+b[0];var octaves=a[1]===null||b[1]===null?null:a[1]+b[1];return[fifths,octaves]}op.add=function(a,b){if(arguments.length===1)return function(b){return op.add(a,b)};if(!a||!b)return null;var r=op.fromFifths(add(op.toFifths(a),op.toFifths(b)));var copy=b.slice();copy[0]=r[0];copy[1]=r[1];if(b.length>2)copy[2]=r[2];return copy};op.addTo=function(p){return function(i){return op.add(i,p)}};function subtract(a,b){var fifths=b[0]-a[0];var octaves=a[1]!==null&&b[1]!==null?b[1]-a[1]:null;return[fifths,octaves]}op.subtract=function(a,b){if(arguments.length===1)return function(b){return op.subtract(a,b)};if(!a||!b)return null;return op.fromFifths(subtract(op.toFifths(a),op.toFifths(b)))};function multiply(m,a){return[m*a[0],a[1]===null?null:m*a[1]]}op.multiply=function(m,a){if(arguments.length===1)return function(b){return op.multiply(m,b)};if(!a)return null;return op.fromFifths(multiply(+m,op.toFifths(a)))};module.exports=op},{}],10:[function(require,module,exports){"use strict";var gamut=require("music.gamut");var op=require("music.pitch.operator");var harmonizer=require("music.harmonizer");var simplify=gamut.map(op.simplify);function pitchSet(notes,tonic){return gamut.apply(function(g){var intervalSet=ascending(simplify(harmonizer(g,false)));if(tonic===false)return intervalSet;var t=op.pitchClass(g[0]);return harmonizer(intervalSet,t)},notes)}var ascending=gamut.apply(function(gamut){var heights=gamut.sort(op.compare).map(op.height);return heights.reduce(function(uniq,value,index){if(index===0||heights[index-1]!==value)uniq.push(gamut[index]);return uniq},[])});pitchSet.asBinary=function(source){var number=[0,0,0,0,0,0,0,0,0,0,0,0];var set=pitchSet(source,false);var semitones=gamut.map(op.height,set);semitones.forEach(function(s){number[s]=1});return number.join("")};pitchSet.fromBinary=function(number,tonic){var intervals=binaryIntervals(number);return tonic===false?intervals:harmonizer(intervals,tonic)};var INTERVALS=["1P","2m","2M","3m","3M","4","4A","5","6m","6M","7m","7M"];function binaryIntervals(number){if(/^1[01]{11}$/.test(number))number=parseInt(number,2);else if(typeof number!=="number")return[];var binary=(number%2048+2048).toString(2);var set=[];for(var i=0;i<12;i++){if(binary.charAt(i)==="1")set.push(INTERVALS[i])}return set}module.exports=pitchSet},{"music.gamut":11,"music.harmonizer":4,"music.pitch.operator":15}],11:[function(require,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5,"music.notation":12}],12:[function(require,module,exports){arguments[4][6][0].apply(exports,arguments)},{"./interval":13,"./pitch":14,dup:6}],13:[function(require,module,exports){arguments[4][7][0].apply(exports,arguments)},{dup:7}],14:[function(require,module,exports){arguments[4][8][0].apply(exports,arguments)},{dup:8}],15:[function(require,module,exports){arguments[4][9][0].apply(exports,arguments)},{dup:9}]},{},[3]);